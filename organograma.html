<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Organograma – Secretarias (v3)</title>
  <meta name="color-scheme" content="light">
  <style>
    :root{
      --green:#1FA54C; --yellow:#FFC107; --red:#C62828;
      --ink:#0B1020; --muted:#5b6b86; --muted-2:#8a96ad;
      --border:#e5edf7; --card:#ffffff; --bg:#f9fbfe;
      --ring:rgba(31,165,76,.28);
      --shadow:0 14px 40px rgba(11,16,32,.10);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink); font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Noto Sans",sans-serif;
      background:
        radial-gradient(1200px 700px at 10% -20%, rgba(255,255,255,.9), rgba(255,255,255,0) 70%),
        radial-gradient(900px 600px at 85% 120%, rgba(31,165,76,.10), rgba(31,165,76,0) 60%),
        linear-gradient(145deg, rgba(31,165,76,.15) 0%, rgba(255,193,7,.12) 45%, rgba(198,40,40,.14) 100%),
        var(--bg);
      background-attachment: fixed;
    }
    .stripe{height:5px; background:linear-gradient(90deg, var(--green), var(--yellow), var(--red));}
    .topbar{position:sticky; top:0; z-index:20; display:flex; align-items:center; gap:14px; padding:12px 16px; background:#ffffffd9; backdrop-filter: blur(8px); border-bottom:1px solid var(--border);}
    .topbar img{height:44px}
    .topbar .title{font-weight:800; letter-spacing:.2px}
    .topbar .grow{flex:1}
    .btn{border:1px solid var(--border); background:#fff; padding:10px 14px; border-radius:12px; cursor:pointer}
    .btn-primary{background:linear-gradient(180deg,#22b357,#1FA54C); color:#fff; border:0}
    .hero{max-width:1200px; margin:22px auto 0; padding:0 16px 18px}
    .hero .card{display:grid; grid-template-columns:1.2fr .8fr; gap:10px; align-items:center; background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow); overflow:hidden}
    @media (max-width:920px){ .hero .card{grid-template-columns:1fr} }
    .hero .left{padding:18px 18px}
    .hero h1{margin:0 0 6px; font-size:26px}
    .hero p{margin:0; color:#5b6b86}
    .hero .right{display:flex; gap:10px; align-items:center; justify-content:center; padding:12px}
    .search{display:flex; gap:8px; align-items:center; background:#fff; border:1px solid var(--border); border-radius:12px; padding:10px 12px}
    .search input{border:0; outline:0; flex:1; font:inherit; background:transparent}
    .layout{max-width:1200px; margin:16px auto; padding:0 16px}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
    @media (max-width:1100px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:700px){ .grid{grid-template-columns:1fr} }
    .card.s{position:relative; background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:var(--shadow)}
    .band{height:6px; background:linear-gradient(90deg, var(--green), var(--yellow), var(--red));}
    .body{padding:14px}
    h3{margin:4px 0 8px; font-size:16px; line-height:1.35}
    .tags{display:flex; gap:6px; flex-wrap:wrap}
    .tag{font-size:12px; color:#2e3d5f; border:1px dashed var(--border); background:#f9fbff; padding:6px 8px; border-radius:999px}
    .foot{display:flex; justify-content:space-between; align-items:center; color:#8a96ad; font-size:12px; margin-top:10px}
    .open{color:#0a5bd3; text-decoration:none; font-weight:600}
    .s:hover{transform:translateY(-2px); transition:.18s ease; box-shadow:0 16px 34px rgba(11,16,32,.12)}
    .s:focus-within{outline:none; box-shadow:0 0 0 4px rgba(31,165,76,.28)}
  .hero .right img{max-height:160px; width:auto; display:block; filter: drop-shadow(0 6px 16px rgba(11,16,32,.10));}
</style>
  <script>
    if (!sessionStorage.getItem('orgRS_auth')) {
      window.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => location.href = 'index.html', 800);
      });
    }
  </script>
</head>
<body>
  <div class="stripe"></div>
  <header class="topbar">
    <img src="assets/logo.png" alt="Organograma RS" onerror="this.style.display='none'">
    <div class="title">Organograma do Governo do RS</div>
    <div class="grow"></div>
    <button class="btn" onclick="location.href='index.html'">Trocar usuário</button>
    <button class="btn btn-primary" onclick="sessionStorage.removeItem('orgRS_auth');location.href='index.html'">Sair</button>
  </header>

  <section class="hero">
    <div class="card">
      <div class="left">
        <h1>Secretarias do Estado</h1>
        <p>Este sistema permite explorar, de forma simples e interativa, a estrutura do Governo do Estado do Rio Grande do Sul. Cada secretaria possui um organograma navegável por níveis (grupos, departamentos e órgãos vinculados). Use a busca para localizar rapidamente qualquer unidade e clique nos cards para abrir o detalhamento.</p>
        <div class="search" style="margin-top:12px; max-width:520px">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.2-4.2M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16Z" stroke="#6b7aa6" stroke-width="2" stroke-linecap="round"/></svg>
          <input id="q" type="text" placeholder="Buscar secretaria…" autocomplete="off" />
        </div>
      </div>
      <div class="right"><img src="assets/logo.png" alt="Logo Organograma RS" style="max-height:160px; width:auto; display:block"></div>
    </div>
  </section>

  <main class="layout">
    <section class="grid" id="grid"></section>
  </main>

  <script>
    const SECRETARIAS = ["Casa Civil", "Casa Militar", "Secretaria da Agricultura, Pecuária, Produção Sustentável e Irrigação", "Secretaria de Desenvolvimento Social", "Secretaria da Cultura", "Secretaria de Comunicação", "Secretaria de Desenvolvimento Econômico", "Secretaria de Desenvolvimento Rural", "Secretaria de Desenvolvimento Urbano e Metropolitano", "Secretaria da Educação", "Secretaria do Esporte e Lazer", "Secretaria Extraordinária de Inclusão Digital e Apoio às Políticas de Equidade", "Secretaria Extraordinária de Relações Institucionais", "Secretaria da Fazenda", "Secretaria de Habitação e Regularização Fundiária", "Secretaria de Inovação, Ciência e Tecnologia", "Secretaria de Justiça, Cidadania e Direitos Humanos", "Secretaria de Logística e Transportes", "Secretaria do Meio Ambiente e Infraestrutura", "Secretaria de Obras Públicas", "Secretaria de Planejamento, Governança e Gestão", "Secretaria da Reconstrução Gaúcha", "Secretaria da Saúde", "Secretaria da Segurança Pública", "Secretaria de Sistemas Penal e Socioeducativo", "Secretaria de Trabalho e Desenvolvimento Profissional", "Secretaria de Turismo"];

    const grid = document.getElementById('grid');
    const q = document.getElementById('q');

    function slug(s){
      return (s||'').normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase().replace(/[^a-z0-9\s-]/g,'').trim().replace(/\s+/g,'-');
    }

    function getTags(){
      return ['Gabinete','Diretorias','Departamentos','Órgãos Vinculados','Conselhos','Fundações'];
    }

    function render(filter=''){
      grid.innerHTML='';
      const items = SECRETARIAS.slice().sort((a,b)=> a.localeCompare(b,'pt',{sensitivity:'base'}))
        .filter(n => !filter || n.normalize('NFD').toLowerCase().includes(filter.normalize('NFD').toLowerCase()));
      for(const name of items){
        const div = document.createElement('article');
        div.className='card s';
        div.tabIndex=0;

        const band = document.createElement('div'); band.className='band'; div.appendChild(band);
        const body = document.createElement('div'); body.className='body';

        const h3 = document.createElement('h3'); h3.textContent = name; body.appendChild(h3);

        const tags = document.createElement('div'); tags.className='tags';
        for(const t of getTags()){ const s=document.createElement('span'); s.className='tag'; s.textContent=t; tags.appendChild(s); }
        body.appendChild(tags);

        const foot = document.createElement('div'); foot.className='foot';
        const meta = document.createElement('span'); meta.textContent=''; meta.style.display='none';
        const a = document.createElement('a'); a.className='open'; a.textContent='Ver organograma'; a.href='secretaria.html#'+slug(name);
        foot.append(meta,a); body.appendChild(foot);

        div.appendChild(body);
        grid.appendChild(div);

        div.addEventListener('click', ()=> location.href = 'secretaria.html#'+slug(name));
      }
    }

    q.addEventListener('input', ()=> render(q.value));
    render();
  </script>

  <footer style="max-width:1200px;margin:32px auto 24px;padding:0 16px;color:#8a96ad;font-size:13px;">
    <div style="height:4px;background:linear-gradient(90deg,#1FA54C,#FFC107,#C62828);border-radius:999px;margin-bottom:14px;"></div>
    <div style="text-align:center;">© 2025 Feito por: Lucas Hartmann &amp; Gabriel Correa •</div>
  </footer>

</body>
</html>
